<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Feliz San Valent√≠n Mi Amor ‚ù§Ô∏è Te Amo Mucho Mi Pollita Hermosa</title>

<link rel="stylesheet" href="/static/style.css">
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Dancing+Script:wght@500&display=swap" rel="stylesheet">
</head>

<audio id="bgMusic" loop>
    <source src="/static/music/cancion.mp3" type="audio/mpeg">
</audio>

<button id="musicBtn">üéµ</button>

<body>

<div class="gallery-container">

    <!-- Imagen √∫nica que cambia -->
    <img class="gallery-img" src="/static/photos/primer.png">

    <!-- Mensaje -->
    <div class="mensaje" id="mensaje"></div>

    <!-- Indicadores -->
    <div class="indicador" id="indicador"></div>

</div>

<!-- Corazones -->
<div class="hearts" id="hearts"></div>
<!-- Sparkles -->
<div class="sparkles" id="sparkles"></div>

<script>
document.addEventListener("DOMContentLoaded", () => {

    // ---- IMAGENES ----
    const images = [
        "/static/photos/primer.png", 
        "/static/photos/Juntos5.jpeg", 
        "/static/photos/Juntos1.jpeg",
        "/static/photos/amor5.jpeg",
        "/static/photos/amor1.jpeg",
        "/static/photos/amor7.jpeg",
        "/static/photos/amor6.jpeg",
        "/static/photos/Juntos4.jpeg",
        "/static/photos/Juntos2.jpeg",
        "/static/photos/Juntos3.jpeg",
        "/static/photos/Juntos6.jpeg",
        "/static/photos/Juntos7.jpeg",
        "/static/photos/Juntos8.jpeg"
    ];

    // ---- MENSAJES ----
    const mensajes = [
        "Desliza Bonita üòä‚û•",
        "Mi pollita hermosa, antes de conocerte ni se me cruzaba estar con alguien.",
        "Nunca habia amado, lo se porque este sentimiento solo ha existido contigo.",
        "No hay nadie ni cerca de ti preciosa, lo tienes todo amor (me derrite esta fotito üôÇ‚Äç‚ÜïÔ∏è)",
        "Graciosa, bonita, de buen coraz√≥n, inteligente, madura, hasta mecanica jaja.",
        "Nunca dudes de ti mi amor, lo que tu te plantees lo vas a lograr. Empezando por el gym.",
        "Yo lo que mas quiero es verte triunfar. Tienes todo para hacerlo. Vas a ser una lic hermosisima.",
        "Te prometo apoyarte con todos tus sue√±os preciosa. Te Amo con toda el alma.",
        "Eres la mujer mas fuerte y valiente que conozco. No sabes el orgullo que es tenerte conmigo.",
        "Disfruto como nada nuestras salidas, nuestras platicas y todos tus videitos que me enamoran aun mas.",
        "Yo quiero vivirlo todo contigo amor ‚ù§Ô∏è. No quiero pensar en un futuro sin ti.",
        "Me da fuerza y motiva tenerte conmigo amor. Mi orgullo es tenerte a mi lado.",
        "Gracias por soportarme y amarme. Te amo muchisimo mi amor mucha mas de lo que crees. "
    ];

    let current = 0;

    const img = document.querySelector(".gallery-img");
    const mensaje = document.getElementById("mensaje");
    const indicador = document.getElementById("indicador");

    // ---- CREAR INDICADORES ----
    images.forEach((_, i) => {
        let dot = document.createElement("span");
        if (i === 0) dot.classList.add("activo");
        indicador.appendChild(dot);
    });

    // ---- ACTUALIZAR MENSAJE + PUNTOS ----
    function actualizarVista() {

        // fade out
        mensaje.classList.add("fade-out");

        setTimeout(() => {
            mensaje.innerText = mensajes[current];

            // fade in
            mensaje.classList.remove("fade-out");
        }, 600);

        document.querySelectorAll(".indicador span")
            .forEach((d, i) => d.classList.toggle("activo", i === current));
    }

    actualizarVista();

    // ---- CAMBIO DE IMAGEN CON ZOOM ----
    function changeImage(newSrc) {
        img.classList.add("zoom-enter");

        setTimeout(() => {
            img.src = newSrc;

            img.classList.remove("zoom-enter");
            img.classList.add("zoom-active");

            setTimeout(() => {
                img.classList.remove("zoom-active");
            }, 800);

        }, 50);
    }

    function nextImage() {
        current = (current + 1) % images.length;
        changeImage(images[current]);
        actualizarVista();
    }

    function prevImage() {
        current = (current - 1 + images.length) % images.length;
        changeImage(images[current]);
        actualizarVista();
    }

    // ---- SWIPE CON ARRASTRE (tipo Instagram) ----

    let startX = 0;
    let currentX = 0;
    let isDragging = false;

    function getX(e) {
        return e.touches ? e.touches[0].clientX : e.clientX;
    }

    // inicio del arrastre
    function startDrag(e) {
        isDragging = true;
        startX = getX(e);
        img.style.transition = "none";
    }

    // mover mientras arrastra
    function drag(e) {
        if (!isDragging) return;

        currentX = getX(e);
        const diff = currentX - startX;

        img.style.transform = `translateX(${diff}px)`;
    }

    // termina arrastre
    function endDrag(e) {
        if (!isDragging) return;

        isDragging = false;
        img.style.transition = "transform 0.3s ease";

        const diff = currentX - startX;
        const threshold = 100; // distancia necesaria para cambiar imagen

        if (diff < -threshold) {
            // izquierda ‚Üí siguiente
            img.style.transform = "translateX(-100%)";

            setTimeout(() => {
                nextImage();
                img.style.transition = "none";
                img.style.transform = "translateX(100%)";

                setTimeout(() => {
                    img.style.transition = "transform 0.3s ease";
                    img.style.transform = "translateX(0)";
                }, 50);

            }, 200);

        } else if (diff > threshold) {
            // derecha ‚Üí anterior
            img.style.transform = "translateX(100%)";

            setTimeout(() => {
                prevImage();
                img.style.transition = "none";
                img.style.transform = "translateX(-100%)";

                setTimeout(() => {
                    img.style.transition = "transform 0.3s ease";
                    img.style.transform = "translateX(0)";
                }, 50);

            }, 200);

        } else {
            // no arrastr√≥ suficiente ‚Üí regresa
            img.style.transform = "translateX(0)";
        }
    }

    // eventos m√≥vil
    img.addEventListener("touchstart", startDrag);
    img.addEventListener("touchmove", drag);
    img.addEventListener("touchend", endDrag);

    // eventos mouse PC
    img.addEventListener("mousedown", startDrag);
    img.addEventListener("mousemove", drag);
    img.addEventListener("mouseup", endDrag);
    img.addEventListener("mouseleave", endDrag);

    // ---- CORAZONES FLOTANDO ----

    const heartsContainer = document.getElementById("hearts");

    function createHeart() {
        const heart = document.createElement("div");
        heart.classList.add("heart");
        heart.innerHTML = "‚ù§Ô∏è";

        heart.style.left = Math.random() * 100 + "vw";
        heart.style.fontSize = (15 + Math.random() * 25) + "px";
        heart.style.animationDuration = (3 + Math.random() * 4) + "s";

        heartsContainer.appendChild(heart);

        setTimeout(() => heart.remove(), 7000);
    }

    // crear corazones constantemente
    setInterval(createHeart, 500);

    // ---- MUSICA ----

    const music = document.getElementById("bgMusic");
    const musicBtn = document.getElementById("musicBtn");

    let playing = false;

    musicBtn.addEventListener("click", () => {
        if (playing) {
            music.pause();
            musicBtn.innerText = "üéµ";
        } else {
            music.play();
            musicBtn.innerText = "‚è∏Ô∏è";
        }
        playing = !playing;
    });

    // Agregar dibujo
    function crearFigura() {

        const img = document.createElement("img");

        img.src = "/static/photos/novios.png"; // tu imagen
        img.classList.add("flotante");

        // posici√≥n horizontal aleatoria
        img.style.left = Math.random() * window.innerWidth + "px";

        // tama√±o aleatorio
        img.style.width = (30 + Math.random()*40) + "px";

        document.body.appendChild(img);

        // eliminar despu√©s de animaci√≥n
        setTimeout(() => img.remove(), 5000);
    }
    setInterval(crearFigura, 800);

});
</script>

</body>
</html>
